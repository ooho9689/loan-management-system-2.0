# 設備管理系統 2.0

## 概述

這是一個全新的設備管理系統，提供現代化的用戶介面和完整的功能。系統包含兩個版本：

- **版本 1.0**: 原始設備管理系統，整合在主系統中
- **版本 2.0**: 全新設計的獨立設備管理系統

## 功能特色

### 版本 2.0 新功能

- 🎨 **現代化UI設計**: 使用漸層背景和毛玻璃效果
- 📱 **響應式設計**: 支援桌面和移動設備
- 📊 **詳細統計**: 顯示總設備數、活躍設備、總客戶數、平均客戶數
- 🔄 **即時更新**: 操作後自動重新載入數據
- ✅ **表單驗證**: 手機號碼和EMAIL格式驗證
- 🗂️ **客戶關聯**: 顯示每個設備管理的客戶
- 📝 **密碼日誌**: 記錄密碼變更歷史
- 🎯 **用戶體驗**: 更好的錯誤處理和用戶反饋

### 核心功能

1. **設備列表顯示**
   - 顯示所有設備資訊
   - 姓名、APPLE帳號
   - 顯示管理客戶數量和客戶標籤

2. **新增設備**
   - 姓名（必填）
   - 手機號碼（必填，格式驗證）
   - 復原密鑰/號碼（選填）
   - APPLE帳號（必填，EMAIL格式驗證）
   - APPLE密碼（必填）

3. **編輯設備**
   - 點擊編輯按鈕載入現有資料
   - 修改後自動更新密碼日誌

4. **刪除設備**
   - 確認對話框防止誤刪
   - 刪除後自動更新列表

5. **統計資訊**
   - 總設備數
   - 活躍設備數
   - 總客戶數
   - 平均客戶數

## 檔案結構

```
loan 2.0/
├── sales-management.html    # 新版設備管理系統
├── sales-nav.html          # 版本選擇導航頁面
├── sales.json              # 設備數據文件
├── routes/sales.js         # 設備API路由
└── services/salesService.js # 設備數據服務
```

## 使用方法

### 方法一：通過主系統
1. 在主系統中點擊「設備管理」按鈕
2. 選擇要使用的版本（1.0 或 2.0）
3. 開始使用選定的版本

### 方法二：直接訪問
- 版本 1.0: `index.html#sales`
- 版本 2.0: `sales-management.html`
- 版本選擇: `sales-nav.html`

## API 端點

### 設備管理 API

- `GET /api/sales` - 取得所有設備
- `POST /api/sales` - 新增設備
- `PUT /api/sales/:id` - 編輯設備
- `DELETE /api/sales/:id` - 刪除設備

### 數據格式

```json
{
  "id": "1746773292414",
  "name": "ipayloan009",
  "appleAccount": "ipayloan009@icloud.com",
  "applePassword": "Qazplm1285",
  "phone": "0966124579",
  "findPhone": "NZEQ-DWSQ-U98E-8H5C-L4FX-EC3Q-8Q8G",
  "passwordLogs": [
    {
      "date": "2025-05-09T06:48:12.414Z",
      "password": "Qazplm1285"
    }
  ]
}
```

## 技術特色

### 前端技術
- **HTML5**: 語義化標籤
- **CSS3**: 現代化樣式，包含動畫和響應式設計
- **JavaScript ES6+**: 異步操作和現代語法
- **Fetch API**: 與後端API通信

### 後端技術
- **Node.js**: 服務器運行環境
- **Express.js**: Web框架
- **文件系統**: JSON文件存儲數據

### 設計特色
- **毛玻璃效果**: 使用 `backdrop-filter: blur()`
- **漸層背景**: 現代化的視覺效果
- **動畫效果**: 懸停和點擊動畫
- **響應式設計**: 支援各種螢幕尺寸

## 開發說明

### 本地開發
1. 確保服務器正在運行：`node server.js`
2. 訪問 `http://localhost:3001/sales-nav.html`
3. 選擇要測試的版本

### 調試
- 打開瀏覽器開發者工具查看控制台日誌
- 檢查網路請求確保API正常運作
- 驗證數據格式是否正確

## 更新日誌

### v2.0 (2025-08-04)
- ✅ 創建全新的設備管理系統
- ✅ 現代化UI設計
- ✅ 響應式佈局
- ✅ 完整的CRUD操作
- ✅ 表單驗證
- ✅ 錯誤處理
- ✅ 統計功能
- ✅ 版本選擇導航

### v1.0 (原始版本)
- 整合在主系統中
- 基本設備管理功能
- 客戶關聯顯示
- 密碼變更日誌

## 注意事項

1. **數據備份**: 定期備份 `sales.json` 文件
2. **服務器狀態**: 確保服務器正在運行
3. **瀏覽器相容性**: 建議使用現代瀏覽器
4. **數據驗證**: 所有輸入都會進行格式驗證

## 支援

如有問題或建議，請檢查：
1. 服務器是否正在運行
2. 網路連線是否正常
3. 瀏覽器控制台是否有錯誤訊息
4. API端點是否可正常訪問 